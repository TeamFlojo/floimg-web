---
import MarketingLayout from "../layouts/MarketingLayout.astro";
import ImageShowcase from "../components/ImageShowcase.astro";
import TabbedDemo from "../components/TabbedDemo.astro";
import ClaudeCodeCallout from "../components/ClaudeCodeCallout.astro";
import GitHubStars from "../components/GitHubStars.astro";

// Reorganized features: AI -> Workflows -> Generators -> DevEx
const features = [
  {
    category: "AI-Powered",
    items: [
      {
        title: "AI Image Generation",
        description: "Generate images with DALL-E and other AI models via a unified API.",
        icon: "üé®",
      },
      {
        title: "LLM-Ready",
        description: "MCP integration for Claude and other AI agents out of the box.",
        icon: "ü§ñ",
      },
    ],
  },
  {
    category: "Workflows",
    items: [
      {
        title: "Pipeline Engine",
        description: "Chain generators and transforms into reusable, shareable workflows.",
        icon: "‚ö°",
      },
      {
        title: "Deterministic",
        description: "Same inputs, same outputs. Reliable execution for production.",
        icon: "üéØ",
      },
    ],
  },
  {
    category: "Generators",
    items: [
      {
        title: "Charts & Diagrams",
        description: "Chart.js, D3, and Mermaid for data visualization.",
        icon: "üìä",
      },
      {
        title: "QR & Barcodes",
        description: "Generate branded QR codes and barcodes with styling options.",
        icon: "üì±",
      },
    ],
  },
  {
    category: "Developer Experience",
    items: [
      {
        title: "Self-Hostable",
        description: "Run anywhere. No vendor lock-in. MIT licensed.",
        icon: "üè†",
      },
      {
        title: "TypeScript First",
        description: "Full type safety with excellent IDE support.",
        icon: "üíª",
      },
    ],
  },
];

const generators = [
  { name: "openai", desc: "AI images via DALL-E", icon: "üé®" },
  { name: "stability", desc: "Stability AI + transforms", icon: "‚ú®" },
  { name: "quickchart", desc: "Charts via Chart.js", icon: "üìä" },
  { name: "mermaid", desc: "Diagrams & flowcharts", icon: "üìê" },
  { name: "qr", desc: "QR codes & barcodes", icon: "üì±" },
  { name: "screenshot", desc: "Playwright screenshots", icon: "üñºÔ∏è" },
];
---

<MarketingLayout title="Home">
  <!-- Hero Section with Image Showcase -->
  <section class="hero-section">
    <div class="hero-container">
      <div class="hero-badges">
        <span class="open-source-badge">
          <svg
            class="badge-icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
          </svg>
          Open Source
        </span>
        <GitHubStars repo="TeamFlojo/floimg" />
      </div>

      <h1 class="hero-title">
        Image workflows for <span class="highlight">developers</span> and <span class="highlight"
          >AI agents</span
        >
      </h1>

      <p class="hero-subtitle">
        Generate AI images, apply deterministic transforms, and save to cloud‚Äîall in one pipeline.
        When LLMs regenerate what you liked, FloImg preserves it.
      </p>

      <div class="hero-ctas">
        <a href="https://studio.floimg.com" class="cta-primary"> Get Started </a>
        <a href="/gallery" class="cta-secondary"> View Gallery </a>
      </div>

      <ImageShowcase class="hero-showcase" />
    </div>
  </section>

  <!-- Tabbed Demo Section -->
  <section class="demo-section">
    <div class="section-container">
      <h2 class="section-title">See It in Action</h2>
      <p class="section-subtitle">Choose your use case</p>
      <TabbedDemo />
    </div>
  </section>

  <!-- Features Grid -->
  <section class="features-section">
    <div class="features-container">
      <h2 class="section-title">Why floimg?</h2>
      <div class="features-grid">
        {
          features.map((category) => (
            <div class="feature-category">
              <h3 class="category-title">{category.category}</h3>
              <div class="category-items">
                {category.items.map((item) => (
                  <div class="feature-card">
                    <span class="feature-icon">{item.icon}</span>
                    <h4 class="feature-title">{item.title}</h4>
                    <p class="feature-description">{item.description}</p>
                  </div>
                ))}
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <!-- Two Ways to Use -->
  <section class="two-ways-section">
    <div class="section-container">
      <h2 class="section-title">Two Ways to Use floimg</h2>
      <p class="section-subtitle">Choose the approach that fits your workflow</p>

      <div class="ways-grid">
        <!-- SDK Path -->
        <div class="way-card">
          <div class="way-icon">üíª</div>
          <h3 class="way-title">SDK & CLI</h3>
          <p class="way-description">
            For developers who want full programmatic control. Integrate floimg into your codebase,
            build custom pipelines, and automate image workflows.
          </p>
          <ul class="way-features">
            <li><span class="check">‚úì</span> TypeScript/JavaScript SDK</li>
            <li><span class="check">‚úì</span> Command-line interface</li>
            <li><span class="check">‚úì</span> MCP for AI agents</li>
          </ul>
          <a href="/docs/getting-started/installation" class="way-cta way-cta-primary">
            Read the Docs
          </a>
        </div>

        <!-- Studio Path -->
        <div class="way-card">
          <div class="way-icon">üé®</div>
          <h3 class="way-title">Studio</h3>
          <p class="way-description">
            Visual drag-and-drop workflow builder. Create image pipelines without writing code, then
            export to SDK or run directly in Studio.
          </p>
          <ul class="way-features">
            <li><span class="check">‚úì</span> Node-based visual editor</li>
            <li><span class="check">‚úì</span> Real-time preview</li>
            <li><span class="check">‚úì</span> Self-hostable (MIT license)</li>
          </ul>
          <a href="https://studio.floimg.com" class="way-cta way-cta-secondary"> Try Studio </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Claude Code Callout -->
  <ClaudeCodeCallout />

  <!-- Generators -->
  <section class="generators-section">
    <div class="section-container">
      <h2 class="section-title">Generators</h2>
      <p class="section-subtitle">Install only what you need</p>
      <div class="generators-grid">
        {
          generators.map((gen) => (
            <div class="generator-card">
              <span class="generator-icon">{gen.icon}</span>
              <div class="generator-info">
                <code class="generator-name">@teamflojo/floimg-{gen.name}</code>
                <span class="generator-desc">{gen.desc}</span>
              </div>
            </div>
          ))
        }
      </div>
      <div class="generators-link">
        <a href="/docs/plugins/quickchart">View all plugins ‚Üí</a>
      </div>
    </div>
  </section>

  <!-- Contributor CTA -->
  <section class="contributor-section">
    <div class="section-container">
      <div class="contributor-content">
        <h2 class="contributor-title">Join the Community</h2>
        <p class="contributor-description">
          floimg is open source and community-driven. We welcome contributions of all kinds ‚Äî code,
          documentation, bug reports, and feature requests.
        </p>
        <div class="contributor-ctas">
          <a
            href="https://github.com/TeamFlojo/floimg"
            class="contributor-cta-primary"
            target="_blank"
            rel="noopener noreferrer"
          >
            <svg viewBox="0 0 16 16" fill="currentColor" class="gh-icon">
              <path
                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"
              ></path>
            </svg>
            Star on GitHub
          </a>
          <a
            href="https://github.com/TeamFlojo/floimg/blob/main/CONTRIBUTING.md"
            class="contributor-cta-secondary"
            target="_blank"
            rel="noopener noreferrer"
          >
            Contributing Guide
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick Start CTA -->
  <section class="cta-section">
    <div class="section-container">
      <h2 class="cta-title">Ready to start?</h2>
      <p class="cta-description">
        Transform your first image in seconds ‚Äî no installation required.
      </p>
      <div class="cta-code">
        <code>npx @teamflojo/floimg resize hero.png 1200x630 -o og-image.png</code>
      </div>
      <div class="cta-buttons">
        <a href="/docs/cli" class="cta-primary">CLI Reference</a>
        <a href="/docs/getting-started/quick-start" class="cta-secondary">Quick Start</a>
      </div>
    </div>
  </section>
</MarketingLayout>

<style>
  /* Hero Section */
  .hero-section {
    padding: 4rem 1.5rem 6rem;
    text-align: center;
  }

  .hero-container {
    max-width: 1100px;
    margin: 0 auto;
  }

  .hero-badges {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
  }

  .open-source-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.5rem 0.875rem;
    background: rgb(34 197 94 / 0.1);
    border: 1px solid rgb(34 197 94 / 0.3);
    border-radius: 0.5rem;
    color: rgb(34 197 94);
    font-size: 0.875rem;
    font-weight: 500;
  }

  :global(.dark) .open-source-badge {
    background: rgb(34 197 94 / 0.15);
    color: rgb(74 222 128);
  }

  .badge-icon {
    width: 1rem;
    height: 1rem;
  }

  .hero-title {
    font-size: clamp(2.5rem, 5vw, 3.75rem);
    font-weight: 700;
    line-height: 1.1;
    color: var(--sl-color-text);
    margin-bottom: 1.5rem;
  }

  .highlight {
    color: rgb(13 148 136);
  }

  :global(.dark) .highlight {
    color: rgb(45 212 191);
  }

  .hero-subtitle {
    font-size: 1.25rem;
    color: #52525b;
    max-width: 700px;
    margin: 0 auto 2.5rem;
    line-height: 1.6;
  }

  :global(.dark) .hero-subtitle {
    color: #a1a1aa;
  }

  .hero-ctas {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 4rem;
    flex-wrap: wrap;
  }

  .cta-primary {
    padding: 0.875rem 1.75rem;
    background: rgb(13 148 136);
    color: white;
    border-radius: 0.5rem;
    font-weight: 500;
    text-decoration: none;
    transition: background 0.2s;
  }

  .cta-primary:hover {
    background: rgb(15 118 110);
  }

  .cta-secondary {
    padding: 0.875rem 1.75rem;
    background: transparent;
    border: 1px solid #d4d4d8;
    color: var(--sl-color-text);
    border-radius: 0.5rem;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.2s;
  }

  :global(.dark) .cta-secondary {
    border-color: #3f3f46;
  }

  .cta-secondary:hover {
    background: #f4f4f5;
  }

  :global(.dark) .cta-secondary:hover {
    background: #27272a;
  }

  .hero-showcase {
    margin-top: 2rem;
  }

  /* Demo Section - always dark background */
  .demo-section {
    padding: 5rem 1.5rem;
    background: #18181b;
    border-top: 1px solid #27272a;
    border-bottom: 1px solid #27272a;
  }

  .demo-section .section-title {
    color: #fafafa;
  }

  .demo-section .section-subtitle {
    color: #a1a1aa;
  }

  .section-container {
    max-width: 1100px;
    margin: 0 auto;
  }

  .section-title {
    font-size: 2rem;
    font-weight: 700;
    color: var(--sl-color-text);
    text-align: center;
    margin-bottom: 0.5rem;
  }

  .section-subtitle {
    font-size: 1.125rem;
    color: #52525b;
    text-align: center;
    margin-bottom: 3rem;
  }

  :global(.dark) .section-subtitle {
    color: #a1a1aa;
  }

  /* Features Section */
  .features-section {
    padding: 5rem 1.5rem;
  }

  .features-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 2rem;
    margin-top: 3rem;
  }

  @media (max-width: 1024px) {
    .features-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 640px) {
    .features-grid {
      grid-template-columns: 1fr;
    }
  }

  .feature-category {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .category-title {
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: rgb(13 148 136);
    margin-bottom: 0.5rem;
  }

  :global(.dark) .category-title {
    color: rgb(45 212 191);
  }

  .category-items {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .feature-card {
    padding: 1.25rem;
    background: var(--sl-color-bg);
    border: 1px solid #e4e4e7;
    border-radius: 0.75rem;
  }

  :global(.dark) .feature-card {
    border-color: #27272a;
  }

  .feature-icon {
    font-size: 1.5rem;
    display: block;
    margin-bottom: 0.75rem;
  }

  .feature-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--sl-color-text);
    margin-bottom: 0.5rem;
  }

  .feature-description {
    font-size: 0.875rem;
    color: #52525b;
    line-height: 1.5;
    margin: 0;
  }

  :global(.dark) .feature-description {
    color: #a1a1aa;
  }

  /* Two Ways Section */
  .two-ways-section {
    padding: 5rem 1.5rem;
    background: #f4f4f5;
    border-top: 1px solid #e4e4e7;
    border-bottom: 1px solid #e4e4e7;
  }

  :global(.dark) .two-ways-section {
    background: #18181b;
    border-top-color: #27272a;
    border-bottom-color: #27272a;
  }

  .ways-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
    margin-top: 1rem;
  }

  @media (max-width: 768px) {
    .ways-grid {
      grid-template-columns: 1fr;
    }
  }

  .way-card {
    padding: 2rem;
    background: var(--sl-color-bg);
    border: 1px solid #e4e4e7;
    border-radius: 1rem;
  }

  :global(.dark) .way-card {
    border-color: #27272a;
  }

  .way-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }

  .way-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--sl-color-text);
    margin-bottom: 0.75rem;
  }

  .way-description {
    color: #52525b;
    line-height: 1.6;
    margin-bottom: 1.5rem;
  }

  :global(.dark) .way-description {
    color: #a1a1aa;
  }

  .way-features {
    list-style: none;
    padding: 0;
    margin: 0 0 1.5rem;
  }

  .way-features li {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #52525b;
    font-size: 0.95rem;
    padding: 0.375rem 0;
  }

  :global(.dark) .way-features li {
    color: #a1a1aa;
  }

  .check {
    color: rgb(13 148 136);
  }

  :global(.dark) .check {
    color: rgb(45 212 191);
  }

  .way-cta {
    display: inline-block;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.2s;
  }

  .way-cta-primary {
    background: rgb(13 148 136);
    color: white;
  }

  .way-cta-primary:hover {
    background: rgb(15 118 110);
  }

  .way-cta-secondary {
    background: #e4e4e7;
    color: #18181b;
  }

  :global(.dark) .way-cta-secondary {
    background: #3f3f46;
    color: #fafafa;
  }

  .way-cta-secondary:hover {
    background: #d4d4d8;
  }

  :global(.dark) .way-cta-secondary:hover {
    background: #52525b;
  }

  /* Generators Section */
  .generators-section {
    padding: 5rem 1.5rem;
  }

  .generators-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-top: 2rem;
  }

  @media (max-width: 768px) {
    .generators-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 480px) {
    .generators-grid {
      grid-template-columns: 1fr;
    }
  }

  .generator-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: #f4f4f5;
    border: 1px solid #e4e4e7;
    border-radius: 0.5rem;
  }

  :global(.dark) .generator-card {
    background: #18181b;
    border-color: #27272a;
  }

  .generator-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
  }

  .generator-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .generator-name {
    font-size: 0.8rem;
    color: rgb(13 148 136);
  }

  :global(.dark) .generator-name {
    color: rgb(45 212 191);
  }

  .generator-desc {
    font-size: 0.85rem;
    color: #52525b;
  }

  :global(.dark) .generator-desc {
    color: #a1a1aa;
  }

  .generators-link {
    text-align: center;
    margin-top: 2rem;
  }

  .generators-link a {
    color: rgb(13 148 136);
    text-decoration: none;
    font-weight: 500;
  }

  .generators-link a:hover {
    text-decoration: underline;
  }

  :global(.dark) .generators-link a {
    color: rgb(45 212 191);
  }

  /* Contributor Section */
  .contributor-section {
    padding: 5rem 1.5rem;
    background: #f4f4f5;
    border-top: 1px solid #e4e4e7;
  }

  :global(.dark) .contributor-section {
    background: #18181b;
    border-top-color: #27272a;
  }

  .contributor-content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .contributor-title {
    font-size: 2rem;
    font-weight: 700;
    color: var(--sl-color-text);
    margin-bottom: 1rem;
  }

  .contributor-description {
    color: #52525b;
    line-height: 1.6;
    margin-bottom: 2rem;
  }

  :global(.dark) .contributor-description {
    color: #a1a1aa;
  }

  .contributor-ctas {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .contributor-cta-primary {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background: var(--sl-color-text);
    color: var(--sl-color-bg);
    border-radius: 0.5rem;
    font-weight: 500;
    text-decoration: none;
    transition: opacity 0.2s;
  }

  .contributor-cta-primary:hover {
    opacity: 0.9;
  }

  .gh-icon {
    width: 1.25rem;
    height: 1.25rem;
  }

  .contributor-cta-secondary {
    padding: 0.75rem 1.5rem;
    border: 1px solid #d4d4d8;
    color: var(--sl-color-text);
    border-radius: 0.5rem;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.2s;
  }

  :global(.dark) .contributor-cta-secondary {
    border-color: #3f3f46;
  }

  .contributor-cta-secondary:hover {
    background: #e4e4e7;
  }

  :global(.dark) .contributor-cta-secondary:hover {
    background: #27272a;
  }

  /* CTA Section */
  .cta-section {
    padding: 5rem 1.5rem;
    text-align: center;
    border-top: 1px solid #e4e4e7;
  }

  :global(.dark) .cta-section {
    border-top-color: #27272a;
  }

  .cta-title {
    font-size: 2rem;
    font-weight: 700;
    color: var(--sl-color-text);
    margin-bottom: 0.75rem;
  }

  .cta-description {
    color: #52525b;
    margin-bottom: 1.5rem;
  }

  :global(.dark) .cta-description {
    color: #a1a1aa;
  }

  .cta-code {
    display: inline-block;
    padding: 0.75rem 1.25rem;
    background: var(--m-code-bg, #1e1e2e);
    border: 1px solid var(--m-code-border, #3f3f46);
    border-radius: 0.5rem;
    margin-bottom: 2rem;
  }

  .cta-code code {
    color: rgb(74 222 128);
    font-size: 0.9rem;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  }

  .cta-buttons {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
  }
</style>
